---
title: "WordPresså¼•æ•°ã‚’æ¸¡ã—ã¦éƒ¨åˆ†ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’èª­ã¿è¾¼ã‚€æ–¹æ³•"
emoji: "ğŸ˜Œ"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["WordPress"]
published: true
---

2020/12/31 version 5.5ã‹ã‚‰å¼•æ•°ãŒæ¸¡ã›ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸ
https://make.wordpress.org/core/2020/07/17/passing-arguments-to-template-files-in-wordpress-5-5/

## ä½¿ã„æ–¹
### å‘¼ã³å‡ºã—å…ƒ
```php
get_template_part( "articles", null, array( "title" => "ã‚¿ã‚¤ãƒˆãƒ«" ) );
```
### å—ã‘å–ã‚Šå…ˆ
```php
echo esc_html( $args["title"] );
```
è¤‡æ•°ã®å ´åˆã¯`array`ã®ä¸­èº«ã‚’å¢—ã‚„ã›ã°OK
```php
get_template_part( "articles", null, array( "title" => "ã‚¿ã‚¤ãƒˆãƒ«","description" => "ãƒ‡ã‚£ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³" ) );
```

ã¡ãªã¿ã«version 5.5ä»¥å‰ã®å ´åˆã ã¨ã“ã‚“ãªæ„Ÿã˜ã§æ›¸ã„ã¦ã¾ã—ãŸ

functions.php ãªã©ã«
```php
function get_template_part_args($template_name, $args = null) {
  if (isset($args)) {
    foreach ($args as $key => $value) {
      set_query_var($key, $value);
    }
  }
  get_template_part($template_name);
}
```
ã‚’æ›¸ã„ã¦

### å‘¼ã³å‡ºã—å…ƒ
```php
get_template_part_args( "articles", array( "title" => "ã‚¿ã‚¤ãƒˆãƒ«" ) );
```
### å—ã‘å–ã‚Šå…ˆ
```php
echo esc_html( $args["title"] );
```

`set_query_var`ã®é–¢æ•°ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã¯ã“ã¡ã‚‰ã€‚
https://developer.wordpress.org/reference/functions/set_query_var/